<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content />
        <meta name="author" content />
        <title>Novel Health Insurance Charge Prediction</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{{ url_for('static', filename = 'css/styles.css') }}" rel="stylesheet" />
        <style>
          @keyframes float {
            0% {
              transform: translateY(0px);
            }
            50% {
              transform: translateY(-30px);
            }
            100% {
              transform: translateY(0px);
            }
          }
          .our-models {
            border: 2.5px solid black;
            padding: 5px;
            animation: float 5s infinite;
          }
        </style>
    </head>
    <body class="d-flex flex-column">
        <main class="flex-shrink-0">
            <!-- Navigation-->
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="container px-5">
                    <a class="navbar-brand" href="indexlink">Predicting Health Insurance Costs</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                            <li class="nav-item"><a class="nav-link" href="indexlink">Home</a></li>
                            <li class="nav-item"><a class="nav-link" href="edalink">EDA</a></li>
                            <li class="nav-item"><a class="nav-link" href="modellink">Modeling</a></li>
                          <li class="nav-item"><a class="nav-link" href="conclusionlink">Conclusions</a></li>
                            <li class="nav-item"><a class="nav-link" href="about_uslink">About Us</a></li>
                      </ul>
                    </div>
                </div>
            </nav>
            <!-- Page content-->
            <section class="py-5 bg-light" id="scroll-target">
              <h1 class="fw-bolder mb-3" style="text-align: center">
                Modeling
              </h1>
                <div class="container px-5 my-5">
                    <div class="row gx-5 align-items-center">
                        <div class="col-lg-6"><img class="our-models img-fluid rounded mb-5 mb-lg-0" src="{{ url_for('static', filename = 'img/decisiontree.png') }}" alt="..." /></div>
                        <div class="col-lg-6">
                            <h2 class="fw-bolder">Decision Tree Regression</h2>
                            <p class="lead fw-normal text-muted mb-0">Decision Tree Regression makes conditional decisions to come to its prediction of a continuous data point.</p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- About section two-->
            <section class="py-5">
                <div class="container px-5 my-5">
                    <div class="row gx-5 align-items-center">
                        <div class="col-lg-6 order-first order-lg-last"><img class="our-models img-fluid rounded mb-5 mb-lg-0" src="{{ url_for('static', filename = 'img/multilayerperceptron.png') }}" alt="..." /></div>
                        <div class="col-lg-6">
                            <h2 class="fw-bolder">Multilayer Perceptron</h2>
                            <p class="lead fw-normal text-muted mb-0">Multilayer Perceptron is a supervised training algorithm that learns a nonlinear function for either classification or regression.

                  </p>
                  </div>
                    </div>
                </div>
              </section>
               <section class="py-5 bg-light" id="scroll-target">
                <div class="container px-5 my-5">
                    <div class="row gx-5 align-items-center">
                        <div class="col-lg-6"><img class="our-models img-fluid rounded mb-5 mb-lg-0" src="{{ url_for('static', filename = 'img/polynomialregression.png') }}" alt="..." /></div>
                        <div class="col-lg-6">
                            <h2 class="fw-bolder">Polynomial Regression</h2>
                            <p class="lead fw-normal text-muted mb-0">Polynomial regression is a method where the dependent variable is fitted as the result of a polynomial equation of the independent variables.</p>
                        </div>
                    </div>
                </div>
            </section>
          <section class="py-5" id="scroll-target">
              <h1 class="fw-bolder mb-3" style="text-align: center">
                Grid Search
              </h1>
              <p class="lead fw-normal text-muted mb-0" style="padding:40px">
                We used the technique of grid search to find the most accurate hyperparameters for each model. Grid search takes in a matrix of parameters, and runs the model specified with each combination of parameters in order to find the combination that produces the best metrics. Using grid search, we were able to significantly improve the accuracy of our models. 
            </p>
          </section>
              <section class="py-5 bg-light" id="scroll-target" style = "align-items:center;">
                <h1 class="fw-bolder mb-3" style="text-align: center">
                Metrics
              </h1>
                <br>
                <center>
              <table class="table table-bordered" style="padding: 10px; margin-left: 30px; margin-right: 60px; text-align:center;">
                
                  <thead>
                    <tr>
                      <th scope="col">Model</th>
                      <th scope="col">Decision Tree Regression</th>
                      <th scope="col">Multilayer Perceptron</th>
                      <th scope="col">Polynomial Regression</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th scope="row">Correlation (R<sup>2</sup>)</th>
                      <td>0.811</td>
                      <td>0.876</td>
                      <td>0.877</td>
                    </tr>
                    <tr>
                      <th scope="row">Root Mean Square Error (RMSE)</th>
                      <td>5127</td>
                      <td>4834</td>
                      <td>4750</td>
                    </tr>
                    <tr>
                      <th scope="row">Mean Absolute Error (MAE)</th>
                      <td>3314</td>
                      <td>3155</td>
                      <td>3010</td>
                    </tr>
                  </tbody>
              </table>
                </center>
              </section>
            <section class="py-5">
                <div class="container px-5">
                    <!-- Contact form-->
                    <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">
                        <div class="text-center mb-5">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-calculator"></i></div>
                            <h1 class="fw-bolder">Get an estimate</h1>
                            <p class="lead fw-normal text-muted mb-0">We will give you a rough estimate of your medical costs using our trained and fitted machine learning models</p>
                        </div>
                      <form action="{{url_for('getFormRequest')}}" method="post">
                      <div class="form-group">
                        <label for="FormControlInput1"><strong>Age</strong></label>
                        <input type="number" class="form-control" id="FormControlInput1" name="age" placeholder="0" min=18 max=100>
                        <br>
                      </div>
                         <div class="form-group">
                        <label for="FormControlInput2"><strong>Body Mass Index (BMI) <a href="https://www.cdc.gov/healthyweight/assessing/bmi/adult_bmi/english_bmi_calculator/bmi_calculator.html" target="_blank">Calculator</a></strong></label>
                        <input type="number" class="form-control" id="FormControlInput2" step="0.01" name="bmi" placeholder="0" min=10 max=60>
                           <br>
                      <div class="form-group">
                        <label for="FormControlInput3"><strong>Sex</strong></label>
                        <select class="form-control" id="FormControlInput3" name="sex">
                          <option>Male</option>
                          <option>Female</option>
                        </select>
                        <br>
                      </div>
                      </div>
                        <div class="form-group">
                        <label for="FormControlInput4"><strong>Region</strong></label>
                        <select class="form-control" id="FormControlInput4" name="region">
                          <option>Southwest</option>
                          <option>Southeast</option>
                          <option>Northwest</option>
                          <option>Northeast</option>
                        </select>
                        <br>
                      </div>
                      <div class="form-group">
                        <label for="FormControlInput5"><strong>Number Of Children</strong></label>
                        <input type="number" class="form-control" id="FormControlInput5" placeholder="0" name="children" min=0>
                      </div>
                        <br>
                       <div class="form-group custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="FormControlInput6" name="smoker" >
                        <label class="custom-control-label" for="FormControlInput6"><strong>Do you smoke?</strong></label>
                      </div> 
                        <br/>
                        <button id="submit-my-data" class="btn btn-primary" type="submit">Submit form</button>
                    </form>
                  </div>
              </div>
              
              <div>
                <h2 class="fw-bolder mb-3" style="text-align: center">Your Estimated Charge Is: <br>${{response}}
                </h2>
                <br>
                
                
              </div>
          </section>
        <!-- Footer-->
        <footer class="bg-dark py-4 mt-auto">
            <div class="container px-5">
                <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                    <div class="col-auto"><div class="small m-0 text-white">Copyright &copy Python Enjoyers</div></div>
                    <div class="col-auto">
                        <a class="link-light small" href="https://www.ai-camp.org/">AICamp</a>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script>
         </script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>

