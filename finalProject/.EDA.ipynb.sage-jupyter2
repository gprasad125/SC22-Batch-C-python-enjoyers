{"backend_state":"running","connection_file":"/projects/200e8042-15d9-45b5-b665-c79cbc8761e9/.local/share/jupyter/runtime/kernel-1feb0256-00fc-49bd-8151-54977b1e1fd6.json","kernel":"ds_env","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.13"}},"trust":true,"type":"settings"}
{"cell_type":"code","end":1658774232588,"exec_count":1,"id":"0cbf14","input":"import pandas as pd\nimport plotly.express as px\nimport seaborn as sns\nimport statsmodels\n\n# plotly, matplotlib, seaborn, pandas","kernel":"ds_env","pos":1,"start":1658774230762,"state":"done","type":"cell"}
{"cell_type":"code","end":1658774232609,"exec_count":2,"id":"f4036b","input":"insurance = pd.read_csv('Data/insurance.csv')","kernel":"ds_env","pos":2,"start":1658774232599,"state":"done","type":"cell"}
{"cell_type":"code","end":1658774232637,"exec_count":3,"id":"ba76e7","input":"insurance.head(99999)","kernel":"ds_env","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>age</th>\n      <th>sex</th>\n      <th>bmi</th>\n      <th>children</th>\n      <th>smoker</th>\n      <th>region</th>\n      <th>charges</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>19</td>\n      <td>female</td>\n      <td>27.900</td>\n      <td>0</td>\n      <td>yes</td>\n      <td>southwest</td>\n      <td>16884.92400</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>18</td>\n      <td>male</td>\n      <td>33.770</td>\n      <td>1</td>\n      <td>no</td>\n      <td>southeast</td>\n      <td>1725.55230</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>28</td>\n      <td>male</td>\n      <td>33.000</td>\n      <td>3</td>\n      <td>no</td>\n      <td>southeast</td>\n      <td>4449.46200</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>33</td>\n      <td>male</td>\n      <td>22.705</td>\n      <td>0</td>\n      <td>no</td>\n      <td>northwest</td>\n      <td>21984.47061</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>32</td>\n      <td>male</td>\n      <td>28.880</td>\n      <td>0</td>\n      <td>no</td>\n      <td>northwest</td>\n      <td>3866.85520</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>1333</th>\n      <td>50</td>\n      <td>male</td>\n      <td>30.970</td>\n      <td>3</td>\n      <td>no</td>\n      <td>northwest</td>\n      <td>10600.54830</td>\n    </tr>\n    <tr>\n      <th>1334</th>\n      <td>18</td>\n      <td>female</td>\n      <td>31.920</td>\n      <td>0</td>\n      <td>no</td>\n      <td>northeast</td>\n      <td>2205.98080</td>\n    </tr>\n    <tr>\n      <th>1335</th>\n      <td>18</td>\n      <td>female</td>\n      <td>36.850</td>\n      <td>0</td>\n      <td>no</td>\n      <td>southeast</td>\n      <td>1629.83350</td>\n    </tr>\n    <tr>\n      <th>1336</th>\n      <td>21</td>\n      <td>female</td>\n      <td>25.800</td>\n      <td>0</td>\n      <td>no</td>\n      <td>southwest</td>\n      <td>2007.94500</td>\n    </tr>\n    <tr>\n      <th>1337</th>\n      <td>61</td>\n      <td>female</td>\n      <td>29.070</td>\n      <td>0</td>\n      <td>yes</td>\n      <td>northwest</td>\n      <td>29141.36030</td>\n    </tr>\n  </tbody>\n</table>\n<p>1338 rows Ã— 7 columns</p>\n</div>","text/plain":"      age     sex     bmi  children smoker     region      charges\n0      19  female  27.900         0    yes  southwest  16884.92400\n1      18    male  33.770         1     no  southeast   1725.55230\n2      28    male  33.000         3     no  southeast   4449.46200\n3      33    male  22.705         0     no  northwest  21984.47061\n4      32    male  28.880         0     no  northwest   3866.85520\n...   ...     ...     ...       ...    ...        ...          ...\n1333   50    male  30.970         3     no  northwest  10600.54830\n1334   18  female  31.920         0     no  northeast   2205.98080\n1335   18  female  36.850         0     no  southeast   1629.83350\n1336   21  female  25.800         0     no  southwest   2007.94500\n1337   61  female  29.070         0    yes  northwest  29141.36030\n\n[1338 rows x 7 columns]"},"exec_count":3}},"pos":3,"start":1658774232618,"state":"done","type":"cell"}
{"cell_type":"code","end":1658774566156,"exec_count":7,"id":"fb0486","input":"fig = px.histogram(insurance, x=\"bmi\", y=\"charges\", color=\"age\", marginal=\"rug\")\nfig.show()","kernel":"ds_env","output":{"0":{"data":{"iframe":"fb6034c21c00a11a72da5de7b21fd708b5beb592"}}},"pos":22,"start":1658774565596,"state":"done","type":"cell"}
{"cell_type":"code","exec_count":0,"id":"61335d","input":"","pos":8,"type":"cell"}
{"cell_type":"code","exec_count":11,"id":"2dff42","input":"px.scatter(insurance,'bmi','charges')","output":{"0":{"data":{"iframe":"10b4e46dda1ffdac10470486394f1ad123207435"},"exec_count":11,"output_type":"execute_result"}},"pos":9,"type":"cell"}
{"cell_type":"code","exec_count":13,"id":"9b86d2","input":"px.pie(insurance, values=\"smoker\", names=\"region\")","output":{"0":{"data":{"iframe":"31e4e88f71f30e8eafcd3009b170d01de8d9c03b"},"exec_count":13,"output_type":"execute_result"}},"pos":15,"type":"cell"}
{"cell_type":"code","exec_count":14,"id":"4a5b44","input":"","output":{"0":{"data":{"text/plain":"0       1\n1       0\n2       0\n3       0\n4       0\n       ..\n1333    0\n1334    0\n1335    0\n1336    0\n1337    1\nName: binary_smoker, Length: 1338, dtype: int64"},"exec_count":14,"output_type":"execute_result"}},"pos":21,"type":"cell"}
{"cell_type":"code","exec_count":15,"id":"d1bcdc","input":"def convert_to_binary(sm):\n    if sm == \"yes\":\n        return 1\n    elif sm == \"no\":\n        return 0\n\ninsurance[\"binary_smoker\"] = insurance[\"smoker\"].apply(convert_to_binary)\n\ninsurance.groupby(\"region\")[\"binary_smoker\"].mean()","output":{"0":{"data":{"text/plain":"region\nnortheast    0.206790\nnorthwest    0.178462\nsoutheast    0.250000\nsouthwest    0.178462\nName: binary_smoker, dtype: float64"},"exec_count":15,"output_type":"execute_result"}},"pos":17,"type":"cell"}
{"cell_type":"code","exec_count":16,"id":"3e3532","input":"insurance.head()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>age</th>\n      <th>sex</th>\n      <th>bmi</th>\n      <th>children</th>\n      <th>smoker</th>\n      <th>region</th>\n      <th>charges</th>\n      <th>binary_smoker</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>19</td>\n      <td>female</td>\n      <td>27.900</td>\n      <td>0</td>\n      <td>yes</td>\n      <td>southwest</td>\n      <td>16884.92400</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>18</td>\n      <td>male</td>\n      <td>33.770</td>\n      <td>1</td>\n      <td>no</td>\n      <td>southeast</td>\n      <td>1725.55230</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>28</td>\n      <td>male</td>\n      <td>33.000</td>\n      <td>3</td>\n      <td>no</td>\n      <td>southeast</td>\n      <td>4449.46200</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>33</td>\n      <td>male</td>\n      <td>22.705</td>\n      <td>0</td>\n      <td>no</td>\n      <td>northwest</td>\n      <td>21984.47061</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>32</td>\n      <td>male</td>\n      <td>28.880</td>\n      <td>0</td>\n      <td>no</td>\n      <td>northwest</td>\n      <td>3866.85520</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"   age     sex     bmi  children smoker     region      charges  binary_smoker\n0   19  female  27.900         0    yes  southwest  16884.92400              1\n1   18    male  33.770         1     no  southeast   1725.55230              0\n2   28    male  33.000         3     no  southeast   4449.46200              0\n3   33    male  22.705         0     no  northwest  21984.47061              0\n4   32    male  28.880         0     no  northwest   3866.85520              0"},"exec_count":16,"output_type":"execute_result"}},"pos":18,"type":"cell"}
{"cell_type":"code","exec_count":20,"id":"0fa150","input":"# import matplotlib.pyplot as plt\n\n# plt.pie(insurance[\"region\"], insurance[\"smoker\"])\n\ninsurance.head()\n\n#insurance.groupby(\"region\")[\"bmi\"].mean()\n\n# Convert smoker from (Yes, No) --> (1, 0)\n# groupby(\"...\")[\"smoker\"].mean()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>age</th>\n      <th>sex</th>\n      <th>bmi</th>\n      <th>children</th>\n      <th>smoker</th>\n      <th>region</th>\n      <th>charges</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>19</td>\n      <td>female</td>\n      <td>27.900</td>\n      <td>0</td>\n      <td>yes</td>\n      <td>southwest</td>\n      <td>16884.92400</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>18</td>\n      <td>male</td>\n      <td>33.770</td>\n      <td>1</td>\n      <td>no</td>\n      <td>southeast</td>\n      <td>1725.55230</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>28</td>\n      <td>male</td>\n      <td>33.000</td>\n      <td>3</td>\n      <td>no</td>\n      <td>southeast</td>\n      <td>4449.46200</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>33</td>\n      <td>male</td>\n      <td>22.705</td>\n      <td>0</td>\n      <td>no</td>\n      <td>northwest</td>\n      <td>21984.47061</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>32</td>\n      <td>male</td>\n      <td>28.880</td>\n      <td>0</td>\n      <td>no</td>\n      <td>northwest</td>\n      <td>3866.85520</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"   age     sex     bmi  children smoker     region      charges\n0   19  female  27.900         0    yes  southwest  16884.92400\n1   18    male  33.770         1     no  southeast   1725.55230\n2   28    male  33.000         3     no  southeast   4449.46200\n3   33    male  22.705         0     no  northwest  21984.47061\n4   32    male  28.880         0     no  northwest   3866.85520"},"exec_count":20,"output_type":"execute_result"}},"pos":16,"type":"cell"}
{"cell_type":"code","exec_count":20,"id":"1fdba0","input":"x = insurance[[\"region\", \"binary_smoker\"]]\nx = x[x[\"binary_smoker\"] == 1]\nx.head()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>region</th>\n      <th>binary_smoker</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>southwest</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>southeast</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>southeast</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>southwest</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>northeast</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"       region  binary_smoker\n0   southwest              1\n11  southeast              1\n14  southeast              1\n19  southwest              1\n23  northeast              1"},"exec_count":20,"output_type":"execute_result"}},"pos":19,"type":"cell"}
{"cell_type":"code","exec_count":23,"id":"d4eb09","input":"m = x.groupby(\"region\").count()\nimport matplotlib.pyplot as plt \nplt.pie(m.binary_smoker, labels = m.index)","output":{"0":{"data":{"text/plain":"([<matplotlib.patches.Wedge at 0x7f60a3998b50>,\n  <matplotlib.patches.Wedge at 0x7f60a398fa90>,\n  <matplotlib.patches.Wedge at 0x7f60a31d4430>,\n  <matplotlib.patches.Wedge at 0x7f60a31d4910>],\n [Text(0.7910790510561727, 0.7643258042092165, 'northeast'),\n  Text(-0.6486028040891509, 0.8884336793074037, 'northwest'),\n  Text(-0.7910790510561729, -0.7643258042092163, 'southeast'),\n  Text(0.8656025814656391, -0.6787725472940269, 'southwest')])"},"exec_count":23,"output_type":"execute_result"},"1":{"data":{"image/png":"73d610de50facaa80b84b357931ea8869767964e","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":23,"output_type":"execute_result"}},"pos":20,"type":"cell"}
{"cell_type":"code","exec_count":29,"id":"1318c1","input":"fig = px.scatter(insurance, x='bmi', y='charges', opacity=0.65, trendline='ols', trendline_color_override='darkred')\nfig.show()","output":{"0":{"data":{"iframe":"10ea58d66ec07ec59bd6dc6edc87a61ba7594b1c"},"exec_count":29,"output_type":"execute_result"}},"pos":5,"type":"cell"}
{"cell_type":"code","exec_count":30,"id":"ab931d","input":"px.scatter(insurance,'bmi','charges',color = 'smoker',symbol = 'sex')","output":{"0":{"data":{"iframe":"2347723746d06a175e6dd3295db47744ec752c0f"},"exec_count":30,"output_type":"execute_result"}},"pos":10,"type":"cell"}
{"cell_type":"code","exec_count":32,"id":"1a2ac8","input":"fig = px.scatter(insurance, x='age', y='charges', opacity=0.65, trendline='ols', trendline_color_override='teal')\nfig.show()","output":{"0":{"data":{"iframe":"a68fb9237e852a0127eb6d9ee5cfad0b3c02f435"},"exec_count":32,"output_type":"execute_result"}},"pos":6,"type":"cell"}
{"cell_type":"code","exec_count":33,"id":"667cec","input":"px.scatter(insurance,'smoker',charges')","output":{"0":{"data":{"iframe":"42fa5fbd26a403a7c70eab51c8faff642cb6b090"},"exec_count":33,"output_type":"execute_result"}},"pos":7,"type":"cell"}
{"cell_type":"code","exec_count":37,"id":"8a70a3","input":"px.imshow(pd.crosstab(insurance['children'],insurance['smoker']))","output":{"0":{"data":{"iframe":"d58f41bf8e4f226ea7a3021a83486847803954ee"},"exec_count":37,"output_type":"execute_result"}},"pos":11,"type":"cell"}
{"cell_type":"code","exec_count":6,"id":"0e4910","input":"px.scatter(insurance, x=\"age\", y=\"charges\", color=\"sex\")","output":{"0":{"data":{"iframe":"aad435c17b72d3b58beed7fcf4b101faaee1a0b5"},"exec_count":6,"output_type":"execute_result"}},"pos":12,"type":"cell"}
{"cell_type":"code","exec_count":7,"id":"ac98a4","input":"px.bar(insurance, x=\"sex\", y=\"charges\")","output":{"0":{"data":{"iframe":"3f5d7697b1326002f50a099a6de32361d1dcd823"},"exec_count":7,"output_type":"execute_result"}},"pos":13,"type":"cell"}
{"cell_type":"code","exec_count":9,"id":"3069fa","input":"px.bar(insurance, x=\"region\", y=\"charges\")","output":{"0":{"data":{"iframe":"a125f3baff00ecc0b0edc3f01036f4abfafcd397"},"exec_count":9,"output_type":"execute_result"}},"pos":14,"type":"cell"}
{"cell_type":"markdown","id":"53e5a5","input":"## `Import Statements`\n\n","pos":0,"type":"cell"}
{"cell_type":"markdown","id":"fa7b80","input":"# Linear Regression Plots\n\n","pos":4,"type":"cell"}
{"id":"c67f1a","input":"# Can we make age a categorical variable?\n# For example, 18 - 24 (Young), 25 - 40 (Adult), 40 - 55 (Middle Aged), 55+ (Senior)","pos":23,"type":"cell"}
{"id":0,"time":1658774843015,"type":"user"}
{"last_load":1658759401545,"type":"file"}